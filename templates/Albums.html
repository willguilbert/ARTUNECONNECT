{% extends 'NavBar.html' %} {% block head %}
<link href="{{ url_for('static', filename='/style/album.css') }}" rel="stylesheet"/>
<link href="{{ url_for('static', filename='/style/cards.css') }}" rel="stylesheet"/>
<link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
        crossorigin="anonymous"
/>
<link href="{{ url_for('static', filename='/style/test.css') }}" rel="stylesheet"/>
<script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"
></script>

{% endblock %} {% block content %}
<div class="container">
    <h1>Albums</h1>
    <h4>Filtres et recherche</h4>

    <divsi class="container py-2 mt-5">
        <div class="row">
            <div class="col-md-10">
                <form method="POST" action="/albums">
                    {% for category in categories %} {% if category.id_style == choisie %}
                    <input
                            type="radio"
                            class="btn-check"
                            name="cat"
                            id="{{category.id_style}}"
                            value="{{category.id_style}}"
                            checked
                    />
                    {% else %}
                    <input
                            type="radio"
                            class="btn-check"
                            name="cat"
                            id="{{category.id_style}}"
                            value="{{category.id_style}}"
                    />
                    {% endif %}
                    <label class="btn" for="{{category.id_style}}">{{category.nom}}</label>
                    {% endfor %}

                    <input
                              type="text"
                              placeholder="Rechercher un album"
                              name="search"
                              class="searchInput"
                              width="6"
                              style="border: 1px solid dimgray; margin-top: 6px"
                            />

                    <button type="submit" class="btn btn-primary">Filtrer et rechercher</button>

                </form>
            </div>
        </div>
    </divsi>

    <div class="container py-4 mt-5">
        <div class="row">
            {% if not albums %}
                <h3>Aucun album ne correspond à votre recherche</h3>
            {% endif %}

            {% for album in albums %}
            <div class="col-xl-3 col-lg-4 col-sm-12 col-md-6 mb-4">
                <a
                        href="{{ url_for('album', album_titre=album.titre, id_artiste=album.id_artiste) }}"
                        style="text-decoration: none"
                >
                    <div class="card">
                        <img src="{{album.photo_album}}" alt="Card 1 Image"/>
                        <h4 class="card-title">{{ album.titre }}</h4>
                        <div class="tags">
                            <div class="tag album-duration">{{album.duree}}</div>
                            <div class="tag">{{ album.nomStyle['nom'] }}</div>
                            {% if album.noteglobal is none %}
                            <div class="tag">Aucune note</div>
                            {% else %}
                            <div class="tag">{{ album.noteglobal }} Étoiles</div>
                            {% endif %}
                        </div>
                    </div>
                </a>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
<script src="{{ url_for('static', filename='/JS/FormatDuration.js') }}"></script>

{% endblock %}
